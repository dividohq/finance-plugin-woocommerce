(()=>{"use strict";const e=window.React,t=window.wp.i18n,n=window.wc.wcBlocksRegistry,i=window.wp.htmlEntities,a=(0,window.wc.wcSettings.getSetting)("divido-finance_data",{}),o=(0,t.__)("Finance","woo-gutenberg-products-block"),l=(0,i.decodeEntities)(a.title)||o,s=a.logo,d=(0,i.decodeEntities)(a.description)||o,c=(0,i.decodeEntities)(a.description||""),r=(0,i.decodeEntities)(a.footnote||""),p=a.plans?a.plans:"",m=({price:t})=>(0,e.createElement)("div",{id:"financeWidget","data-calculator-widget":!0,"data-mode":"calculator","data-amount":t,"data-plans":p,"data-footnote":r}),u=t=>{const{eventRegistration:n,emitResponse:i}=t,{onPaymentProcessing:a}=n;return(0,e.useEffect)((()=>{"undefined"!=typeof __widgetInstance?__widgetInstance.init():"undefined"!=typeof __calculator&&__calculator.init();const e=a((async()=>{if(document.getElementsByName("divido_plan").length<=0)return{type:i.responseTypes.ERROR,message:"Unable to receive the chosen finance plan"};const e=document.getElementsByName("divido_plan")[0].value,t=document.getElementsByName("divido_deposit").length>0?document.getElementsByName("divido_deposit")[0].value:0;return{type:i.responseTypes.SUCCESS,meta:{paymentMethodData:{divido_plan:e,divido_deposit:t}}}}));return()=>{e()}}),[i.responseTypes.ERROR,i.responseTypes.SUCCESS,a]),(0,e.createElement)("div",null,(0,e.createElement)("div",null,c),(0,e.createElement)(m,{price:t.billing.cartTotal.value}))},g={name:a.name,label:(0,e.createElement)((t=>(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},(0,e.createElement)("div",null,l),s&&(0,e.createElement)("img",{src:s,alt:d,style:{marginRight:"16px"}}))),null),content:(0,e.createElement)(u,null),edit:(0,e.createElement)(u,null),canMakePayment:()=>a.active,ariaLabel:l,supports:{features:a.supports}};(0,n.registerPaymentMethod)(g)})();